ИНСТРУКЦИЯ по компиляции ресурсов.

Структура дистрибутива исходных текстов:

Корневой каталог                             - <корневой каталог компиляции>\VIP810
Каталог файлов проектов                      - <корневой каталог компиляции>\VIP810\TNS
Каталоги файлов исходных текстов ресурса     - <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>
                                               <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>\alter
Каталоги файлов шаблонов Excel-отчетов       - <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>\xls
Каталоги предыдыущих версий исходных текстов - <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>\<YYYYMMDD>
                                               <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>\alter\<YYYYMMDD>
                                               <корневой каталог компиляции>\VIP810\TNS\<имя ресурса>\xls\<YYYYMMDD>
Каталог лога компиляции                      - <корневой каталог компиляции>\VIP810\_log
Каталог скомпилированных ресурсов            - <корневой каталог компиляции>\VIP810\_res
Структура имени ресурсного файла             - TNS_<имя ресурса>.res
Структура имени лога компиляции              - TNS_<имя ресурса>.log

Структура установленных ресурсов:

Корневой каталог                             - <рабочий корневой каталог>\GalSrv\exe
Каталог установленных ресурсов               - <рабочий корневой каталог>\GalSrv\exe\AddRes
Каталог установленных шаблонов Excel-файлов  - <рабочий корневой каталог>\GalSrv\exe\AddXLS

Процедура компиляции ресурса

1. В соответствующих каталогах с исходными текстами ресурса создать новый каталог версии с текущей датой в качестве имени
2. Перенести заменяемые исходные тексты в созданный каталог версии
3. Скопировать новые файлы исходных версий в каталоги ресурса
4. Перейти в корневой каталог
5. Запустить пакетный файл vip_loc.bat с параметрами Primorsk <имя ресурса> Primorsk\inc
    Пример: vip_loc.bat Primorsk oper Primorsk\inc
6. После окончания компиляции проверить содержимое лога компиляции в каталоге логов на наличие сообщений типа "Ошибка...", предупреждения и прочие сообщения 
   можно игнорировать.
7. Если сообщений об ошибках нет, скопировать ресурсный файл из каталога скомпилированных ресурсов в каталог установленных ресурсов, заменив ему имя 
   на основе следующего формата TNS_<имя ресурса>_<номер версии>.res. В качестве номера версии следует следующий по порядку номер.
8. Запустить программу support.exe системы Галактика
9. Выбрать в меню [=]\Главное меню\ пункт Консоль управления
 
10. Выбрать в новом меню пункт Консоль управления
 
11. В открывшемся окне выбрать в левой панели Система\Репозитарий\Компоненты
 
12. В правой панели раскрыть (или создать при отсуствии) иерархию _TNS\
 
13. Выбрать из списка требуемый ресурс и нажать клавишу F4 или кнопку Редактировать внизу экрана
 
14. В открывшемся окне изменить значение имени ресурса в поле Ресурс.
15. Нажать кнопку Ok, после окончания регистрации ресурса выйти из программы support.
16. Для использования нового ресурса пользователям необходимо выйти из программы Галактика и зайти по новой.
17. Для проверки подключения нового ресурса необходимо запустить программу Галактика и выбрать меню Сервис\Информация\О рабочей станции
 
18. В открывшемся окне проверить наличие нового ресрусного файла в списке ресурсных файлов.
 
